<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>냉동 두리안 제품 정보</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
  body { margin:0; padding:12px; font-family:Arial, sans-serif; }
  .container { max-width:600px; width:100%; margin:auto; text-align:center; }
  .lang-switch { margin-bottom:12px; }
  .lang-switch button {
    padding:6px 14px;
    margin:0 4px;
    border:1px solid #ccc;
    background:#f5f5f5;
    cursor:pointer;
    font-size:14px;
    font-weight:700; /* Bold button text */
  }
  .info-line  { margin:6px 0; font-size:15px; text-align:left; }
  .info-label { font-weight:bold; margin-right:4px; display:inline-block; min-width:120px; }

  .main-btn {
    margin-top:14px;
    font-size:18px;
    font-weight:700;   /* Bold button */
    padding:14px 24px;
    background:#0c73c2;
    color:#fff;
    border:none;
    border-radius:6px;
    cursor:pointer;
    width:100%;
  }
  .realtime-box{
    margin-top:16px;
    padding:14px;
    background:#f1f4f7;
    border-radius:6px;
    text-align:center;
  }
  .realtime-title{
    font-weight:700; /* bold title */
    margin-bottom:6px;
  }
  canvas { width:100% !important; height:auto !important; margin-top:18px; }
  h2 { margin:12px 0; }
</style>
</head>
<body>
<div class="container">
  <h2 id="title">냉동 두리안 제품 정보</h2>

  <!-- Language Switch -->
  <div class="lang-switch">
    <button onclick="setLanguage('cn')">CN</button>
    <button onclick="setLanguage('kr')">KR</button>
    <button onclick="setLanguage('us')">US</button>
  </div>

  <!-- Product Info -->
  <div id="productInfo">
    <div class="info-line"><span class="info-label" id="lbl-productName">제품명</span><span id="val-productName">냉동 두리안</span></div>
    <div class="info-line"><span class="info-label" id="lbl-origin">원산지</span><span id="val-origin">베트남</span></div>
    <div class="info-line"><span class="info-label" id="lbl-variety">품종</span><span id="val-variety">몸통</span></div>
    <div class="info-line"><span class="info-label" id="lbl-harvest">수확시기</span><span id="val-harvest">2025년 8월</span></div>
    <div class="info-line"><span class="info-label" id="lbl-prodDate">생산일</span><span id="val-prodDate">2025-07-18</span></div>
    <div class="info-line"><span class="info-label" id="lbl-lot">Lot 번호</span><span id="val-lot">LOT-DK-230715</span></div>
    <div class="info-line"><span class="info-label" id="lbl-freezing">냉동방식</span><span id="val-freezing">IQF</span></div>
    <div class="info-line"><span class="info-label" id="lbl-shipDate">출고일</span><span id="val-shipDate">2025-08-01</span></div>
    <div class="info-line"><span class="info-label" id="lbl-exporter">수출자</span><span id="val-exporter">DK Costech Co., Ltd.</span></div>
  </div>

  <button
    id="calcBtn"
    class="main-btn"
    onclick="window.open('https://DKCostech.github.io/durian-tools/durian_thawing_calculator_450_V15.html','_blank');">
    예상 해동시간 계산
  </button>

  <!-- Real-time Temperature Box -->
  <div id="realtimeBox" class="realtime-box">
    <div class="realtime-title" id="rt-title">실시간 운송 온도</div>
    <div id="rt-temp">현재 온도: -18.4 ℃</div>
    <div id="rt-time">기록 시간: 2025-08-19T01:46:23Z</div>
  </div>

  <canvas id="tempChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
let chart;
const labels = ["08/01","08/02","08/03","08/04","08/05","08/06"];
const dataPoints = [-19.0, -20.5, -18.5, -19.8, -20.1, -19.3];
const minValue = Math.min(...dataPoints);
const maxValue = Math.max(...dataPoints);

const i18nText = {
  kr:{
    title:"냉동 두리안 제품 정보",
    calcBtn:"예상 해동시간 계산",
    realtimeTitle:"실시간 운송 온도",
    realtimeTemp:"현재 온도: -18.4 ℃",
    realtimeTime:"기록 시간: 2025-08-19T01:46:23Z",
    series:"측정된 온도"
  },
  us:{
    title:"Frozen Durian Product Information",
    calcBtn:"Calculate Estimated Thaw Time",
    realtimeTitle:"Real-time Transport Temperature",
    realtimeTemp:"Current Temp: -18.4 ℃",
    realtimeTime:"Recorded Time: 2025-08-19T01:46:23Z",
    series:"Measured Temperature"
  },
  cn:{
    title:"冷冻榴莲产品信息",
    calcBtn:"解冻时间计算",
    realtimeTitle:"实时运输温度",
    realtimeTemp:"当前温度: -18.4 ℃",
    realtimeTime:"记录时间: 2025-08-19T01:46:23Z",
    series:"测量温度"
  }
};

function setLanguage(lang){
  const t = i18nText[lang];

  document.getElementById('title').innerText     = t.title;
  document.getElementById('calcBtn').innerText   = t.calcBtn;
  document.getElementById('rt-title').innerText  = t.realtimeTitle;
  document.getElementById('rt-temp').innerText   = t.realtimeTemp;
  document.getElementById('rt-time').innerText   = t.realtimeTime;

  drawChart(t.series);
}

function drawChart(labelName){
  const ctx = document.getElementById('tempChart').getContext('2d');
  if(chart) chart.destroy();
  chart = new Chart(ctx,{
    type:'line',
    data:{ labels:labels, datasets:[{
      label:labelName,
      data:dataPoints,
      borderWidth:1,
      tension:0.3,
      pointRadius:4,
      pointBackgroundColor:dataPoints.map(v=>(v===minValue||v===maxValue)?'black':'transparent')
    }]},
    options:{
      responsive:true,
      plugins:{legend:{display:true}, tooltip:{enabled:true}},
      scales:{
        x:{ticks:{callback:(v,i)=>labels[i]}},
        y:{min:-21,max:-15,ticks:{stepSize:1,callback:v=>v+"℃"}}
      }
    },
    plugins:[{
      id:'datalabels',
      beforeDraw:(c)=>{
        const ctx=c.ctx;
        c.data.datasets[0].data.forEach((v,i)=>{
          if(v===minValue||v===maxValue){
            ctx.save();
            ctx.textAlign="center";
            ctx.font="12px Arial";
            ctx.fillText(v+'℃',c.getDatasetMeta(0).data[i].x,c.getDatasetMeta(0).data[i].y-10);
            ctx.restore();
          }
        });
      }
    }]
  });
}

// default language = CN
setLanguage('cn');
</script>
</body>
</html>
